import{_ as u,o as d,c as n,a as t,t as o,h as m,v as _}from"./index-292d4caa.js";const{VITE_API:l,VITE_APIPATH:a}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"mandyapi",BASE_URL:"/vue-6mainWork/",MODE:"production",DEV:!1,PROD:!0},h={data(){return{tempProduct:{},qty:1}},methods:{getProduct(){const r=this.$route.params.id;console.log(r),this.$http.get(`${l}/api/${a}/product/${r}`).then(e=>{this.tempProduct=e.data.product,console.log("單一產品:",this.tempProduct)}).catch(e=>{alert(e.response.data.message)})},addCart(r){const e={product_id:this.tempProduct.id,qty:this.qty};console.log(e),this.$http.post(`${l}/api/${a}/cart`,{data:e}).then(c=>{alert(c.data.message)}).catch(c=>{alert(c.response.data.message)})}},mounted(){this.getProduct()}},P={class:"row"},g={class:"col-sm-6"},v=["src"],y={class:"col-sm-6","text-start":""},f={class:"badge bg-primary rounded-pill"},b={key:0,class:"h5"},E={key:1},I={class:"h6"},V={class:"h5"},A={class:"input-group"};function T(r,e,c,k,s,p){return d(),n("div",P,[t("div",g,[t("img",{class:"img-fluid",src:s.tempProduct.imageUrl,alt:""},null,8,v)]),t("div",y,[t("span",f,o(s.tempProduct.category),1),t("p",null,"商品描述："+o(s.tempProduct.description),1),t("p",null,"商品內容："+o(s.tempProduct.content),1),s.tempProduct.price===s.tempProduct.origin_price?(d(),n("div",b,o(s.tempProduct.price)+" 元 ",1)):(d(),n("div",E,[t("del",I,"原價 "+o(s.tempProduct.origin_price)+" 元",1),t("div",V,"現在只要 "+o(s.tempProduct.price)+" 元",1)])),t("div",null,[t("div",A,[m(t("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":e[0]||(e[0]=i=>s.qty=i)},null,512),[[_,s.qty,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=(...i)=>p.addCart&&p.addCart(...i))}," 加入購物車 ")])])])])}const q=u(h,[["render",T]]);export{q as default};
